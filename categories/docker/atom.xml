<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: docker | yasuoza diary]]></title>
  <link href="http://blog.yasuoza.com//categories/docker/atom.xml" rel="self"/>
  <link href="http://blog.yasuoza.com/"/>
  <updated>2014-07-06T12:19:48+00:00</updated>
  <id>http://blog.yasuoza.com/</id>
  <author>
    <name><![CDATA[Yasuharu Ozaki]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Docker in OSX without dvm]]></title>
    <link href="http://blog.yasuoza.com/2014/01/10/docker-in-osx-without-dvm/"/>
    <updated>2014-01-10T02:35:08+00:00</updated>
    <id>http://blog.yasuoza.com/2014/01/10/docker-in-osx-without-dvm</id>
    <content type="html"><![CDATA[<p>Docker client for OSX released as of <a href="https://github.com/dotcloud/docker/blob/master/CHANGELOG.md#073-2014-01-02">0.7.3</a></p>

<p>Now, we OSX user can access docker container without ssh command by followlig without <a href="http://fnichol.github.io/dvm/">dvm</a></p>

<p>Install docker client via Homebrew:</p>

<pre><code class="bash">$ brew update
$ brew tap homebrew/binary
$ brew install docker
</code></pre>

<p>Next, setup Vagrantfile like:</p>

<pre><code class="ruby">DOCKER_IP   = ENV["DOCKER_IP"]   || "192.168.42.43"
DOCKER_PORT = ENV["DOCKER_PORT"] || 4243

Vagrant.configure("2") do |config|
  config.vm.box     = "precise64"
  config.vm.box_url = "http://files.vagrantup.com/precise64.box"
  config.vm.network :private_network, ip: DOCKER_IP
  config.vm.provision :docker do |d|
    d.pull_images "base"
  end
  config.vm.provision :shell, inline: &lt;&lt;-SHELL
    sudo sed -i -e 's/DOCKER_OPTS=/DOCKER_OPTS=\"-H #{DOCKER_IP}:#{DOCKER_PORT}\"/g' /etc/init/docker.conf
    sudo service docker restart
  SHELL
end
</code></pre>

<p>Then run VM:</p>

<pre><code class="bash">$ vagrant up
</code></pre>

<p>Export <code>DOCKER_HOST</code>:</p>

<pre><code class="bash">$ export DOCKER_HOST="tcp://192.168.42.43:4243" # DOCKER_HOST="$DOCKER_IP:$DOCKER_PORT"
</code></pre>

<p>That&rsquo;s all. Now you can access docker container like:</p>

<pre><code class="bash">$ docker run base echo "hello world!"
</code></pre>
]]></content>
  </entry>
  
</feed>
